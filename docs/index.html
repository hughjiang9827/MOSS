<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One-step TMLE for survival analysis • MOSS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="One-step TMLE for survival analysis">
<meta property="og:description" content="Estimate counterfactual survival curve under static or dynamic interventions on treatment (exposure), while at the same time adjust for measured confounding. Targeted Maximum Likelihood Estimate (TMLE) approach is employed to create a doubly robust and semi-parametrically efficient estimator. Machine Learning algorithms (SuperLearner) are implemented to all stages of the estimation.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">MOSS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/moss_intro.html">How to use MOSS package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wilsoncai1992/MOSS">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="rmoss" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rmoss" class="anchor"></a><code>R</code>/MOSS</h1></div>

<p>MOSS performs ensemble machine learning and Targeted Maximum Likelihood (TMLE) to estimate the counter-factual marginal survival functions, while non-parametrically adjusting for measured confounding. TMLE approach is employed to create a doubly robust and semi-parametrically efficient estimator. Simultaneous confidence bands of the entire curve is also available for inference. User can specify what kind of static intervention on treatment (exposure).</p>
<p>The following comparable methods are also included in the package for you to easily compare methods: - Inverse censoring probability weighted (IPCW) - Locally efficient one-step estimator (estimating equation methods)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">'MOSS'</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">'wilsoncai1992/MOSS'</span>)</a></code></pre></div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<ul>
<li>To see all available package documentation:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">?MOSS</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/help">help</a></span>(<span class="dt">package =</span> <span class="st">'MOSS'</span>)</a></code></pre></div>
</div>
<div id="brief-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#brief-overview" class="anchor"></a>Brief overview</h2>
<div id="data-structure" class="section level3">
<h3 class="hasAnchor">
<a href="#data-structure" class="anchor"></a>Data structure</h3>
<p>The data input of all methods in the package should be an <code>R</code> <code>data.frame</code> in the following survival long data format:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co">#   ID W A T.tilde delta</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># 1  1 0 0      95     1</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># 2  2 1 1       1     0</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># 3  3 0 0     215     1</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co"># 4  4 1 1      15     1</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co"># 5  5 0 0      73     1</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># 6  6 0 0      15     1</span></a></code></pre></div>
</div>
<div id="steps-of-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#steps-of-analysis" class="anchor"></a>Steps of analysis</h3>
<ol style="list-style-type: decimal">
<li>perform SuperLearner fit of the conditional survival function of failure event, conditional survival function of censoring event, propensity scores (<code>initial_sl_fit</code>)</li>
<li>perform TMLE adjustment of the conditional survival fit (<code>MOSS_hazard</code>)</li>
<li>simultaneous confidence band (<code>compute_simultaneous_ci</code>)</li>
</ol>
</div>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>To cite <code>MOSS</code> in publications, please use:</p>
<blockquote>
<p>Cai W, van der Laan MJ (2019+). <em>One-step TMLE for time-to-event outcomes.</em> Working paper.</p>
</blockquote>
</div>
<div id="funding" class="section level2">
<h2 class="hasAnchor">
<a href="#funding" class="anchor"></a>Funding</h2>
</div>
<div id="copyright" class="section level2">
<h2 class="hasAnchor">
<a href="#copyright" class="anchor"></a>Copyright</h2>
<p>This software is distributed under the GPL-2 license.</p>
</div>
<div id="community-guidelines" class="section level2">
<h2 class="hasAnchor">
<a href="#community-guidelines" class="anchor"></a>Community Guidelines</h2>
<p>Feedback, bug reports (and fixes!), and feature requests are welcome; file issues or seek support <a href="https://github.com/wilsoncai1992/MOSS/issues">here</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/wilsoncai1992/MOSS">https://​github.com/​wilsoncai1992/​MOSS</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Wilson Cai <br><small class="roles"> Author, maintainer </small>  </li>
<li>Mark J. van der Laan <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/wilsoncai1992/MOSS"><img src="https://travis-ci.org/wilsoncai1992/MOSS.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/wilsoncai1992/MOSS"><img src="https://ci.appveyor.com/api/projects/status/hagh8vidrdeacr7f?svg=true" alt="Appveyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/wilsoncai1992/MOSS"><img src="https://codecov.io/gh/wilsoncai1992/MOSS/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-2.0"><img src="https://img.shields.io/badge/License-GPL%20v2-blue.svg" alt="License: GPL v2"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Wilson Cai, Mark J. van der Laan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
